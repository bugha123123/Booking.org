@using Hotel.org.Interface
@using Hotel.org.Models
@using Hotel.org.Service
@model Reviews
@inject IHotelService _hotelservice;
<main class="max-w-4xl mx-auto px-4 py-12 md:px-6 md:py-16">
  <div class="space-y-8">
 
  
    <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-950">
      <h2 class="text-2xl font-bold">Leave a Review</h2>
      <p class="mt-4 text-gray-500 dark:text-gray-400">Share your experience with other travelers.</p>
            <form id="addReviewForm" asp-action="AddReviewForHotel" asp-controller="Hotel" method="post" class="mt-6 space-y-4">
              
                <div>
                    <label for="hotel" class="text-sm font-medium leading-none">Select Hotel</label>
                    <select id="hotel" name="hotelId" class="block w-full rounded-md border border-gray-300 px-3 py-2 text-sm" required>
                        <option value="">Select a hotel</option>
                        @foreach (var hotel in await _hotelservice.GetAllHotelsForDropDown())
                        {
                            <option value="@hotel.Id">@hotel.Name</option>
                        }
                    </select>
                </div>

                <div>
                    <label for="hotelInput" class="text-sm font-medium leading-none">Selected Hotel</label>
                    <input asp-for="AddedForHotel" id="hotelInput" class="block w-full rounded-md border border-gray-300 px-3 py-2 text-sm" readonly />
                </div>
            
                <div>
                    <label for="review" class="text-sm font-medium leading-none">Review</label>
                    <textarea asp-for="Comment" id="review" class="flex min-h-[80px] w-full rounded-md border border-gray-300 px-3 py-2 text-sm" placeholder="Share your thoughts" required></textarea>
                </div>
                <button id="submitReview" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium bg-primary text-white hover:bg-primary-dark h-10 px-4 py-2" type="submit">Submit</button>
            </form>


    </div>
  </div>
</main>

<script>
    // Get the select element
    const selectHotel = document.getElementById('hotel');
    // Get the input element
    const hotelInput = document.getElementById('hotelInput');

    // Add change event listener to select element
    selectHotel.addEventListener('change', function () {
        // Get the selected option
        const selectedOption = selectHotel.options[selectHotel.selectedIndex];
        // Update the input value with the selected hotel name
        hotelInput.value = selectedOption.text;
    });
</script>